<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<HEAD>
<TITLE>Page 6</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="stylesheet" type="text/css" href="global.css"/>
	<script type="text/javascript" src="control_center.js"></script>
    <script type="text/javascript">
    <!--
    var pageType="middle";
    // -->
    </script>
<style type="text/css">
</style>
</HEAD>
<body>
	<div class="page_container" id="suisftt_06">
		<div class="std_paragraph_container">
			<p>
<pre class="xmlsnippet_pre_default">
context<span class="xmlsnippet_operator">.</span>sku <span class="xmlsnippet_operator">=</span> <span class="xmlsnippet_punct">"CALG01"</span>
context<span class="xmlsnippet_operator">.</span>total_price <span class="xmlsnippet_operator">=</span> <span class="xmlsnippet_punct">"22.00"</span>
context<span class="xmlsnippet_operator">.</span>package_content_code <span class="xmlsnippet_operator">=</span> <span class="xmlsnippet_punct">"CANINE-LARGE-ALL"</span>
context<span class="xmlsnippet_operator">.</span>is_available <span class="xmlsnippet_operator">=</span> <span class="xmlsnippet_punct">"true"</span>
</pre>
			</p>
			<p>
	One more feature we are going to go ahead and use is the return keyword and specify exactly the response we wish to send back:
		return "getGroomingKits_response_all"
			</p>
			<p>
	If you haven't been updating the script pane as you read along then take all of those pieces and put them in your script pane as shown below.
			</p>
		</div>
		<div class="simple_scripting"></div>

		<div class="std_paragraph_container">
			<p>
				Now if we run our request through the SoapUI mock service the response will have something that more closely represents a "good" response based 
				on useful content
			</p>
			<p>
	<pre class="xmlsnippet_pre_default">
	<span class="xmlsnippet_brackets">&lt;</span><span class="xmlsnippet_ns">soapenv</span><span class="xmlsnippet_colon">:</span><span class="xmlsnippet_code">Envelope&gt;</span> 
		<span class="xmlsnippet_ns">xmlns</span><span class="xmlsnippet_colon">:</span><span class="xmlsnippet_target">soapenv</span><span class="xmlsnippet_operator">=</span><span class="xmlsnippet_punct">"</span><span class="xmlsnippet_ns">http</span><span class="xmlsnippet_colon">:</span><span class="xmlsnippet_port_direct">//</span><span class="xmlsnippet_domain">schemas.xmlsoap.org</span><span class="xmlsnippet_path">/soap/envelope/</span><span class="xmlsnippet_punct">"</span> 
		<span class="xmlsnippet_ns">xmlns</span><span class="xmlsnippet_colon">:</span><span class="xmlsnippet_target">gro</span><span class="xmlsnippet_operator">=</span><span class="xmlsnippet_punct">"</span><span class="xmlsnippet_ns">http</span><span class="xmlsnippet_colon">:</span><span class="xmlsnippet_port_direct">//</span><span class="xmlsnippet_domain">www.example.org</span><span class="xmlsnippet_path">/GroomingKits/</span><span class="xmlsnippet_punct">"</span><span class="xmlsnippet_brackets">&gt;</span>
	   <span class="xmlsnippet_brackets">&lt;</span><span class="xmlsnippet_ns">soapenv</span><span class="xmlsnippet_colon">:</span><span class="xmlsnippet_code">Header</span><span class="xmlsnippet_brackets">/></span>
	   <span class="xmlsnippet_brackets">&lt;</span><span class="xmlsnippet_ns">soapenv</span><span class="xmlsnippet_colon">:</span><span class="xmlsnippet_code">Body</span><span class="xmlsnippet_brackets">&gt;</span>
	      <span class="xmlsnippet_brackets">&lt;</span><span class="xmlsnippet_ns">gro</span><span class="xmlsnippet_colon">:</span><span class="xmlsnippet_code">getGroomingKitResponse</span><span class="xmlsnippet_brackets">&gt;</span>
	         <span class="xmlsnippet_brackets">&lt;</span><span class="xmlsnippet_code">sku</span><span class="xmlsnippet_brackets">&gt;</span>CALG01<span class="xmlsnippet_brackets">&lt;/</span><span class="xmlsnippet_code">sku</span><span class="xmlsnippet_brackets">&gt;</span>
	         <span class="xmlsnippet_brackets">&lt;</span><span class="xmlsnippet_code">price</span><span class="xmlsnippet_brackets">&gt;</span>22.00<span class="xmlsnippet_brackets">&lt;/</span><span class="xmlsnippet_code">price</span><span class="xmlsnippet_brackets">&gt;</span>
	         <span class="xmlsnippet_brackets">&lt;</span><span class="xmlsnippet_code">packageCode</span><span class="xmlsnippet_brackets">&gt;</span>CANINE-LARGE-ALL<span class="xmlsnippet_brackets">&lt;/</span><span class="xmlsnippet_code">packageCode</span><span class="xmlsnippet_brackets">&gt;</span>
	         <span class="xmlsnippet_brackets">&lt;</span><span class="xmlsnippet_code">available</span><span class="xmlsnippet_brackets">&gt;</span>true<span class="xmlsnippet_brackets">&lt;/</span><span class="xmlsnippet_code">available</span><span class="xmlsnippet_brackets">&gt;</span>
	      <span class="xmlsnippet_brackets">&lt;/</span><span class="xmlsnippet_ns">gro</span><span class="xmlsnippet_colon">:</span><span class="xmlsnippet_code">getGroomingKitResponse</span><span class="xmlsnippet_brackets">&gt;</span>
	   <span class="xmlsnippet_brackets">&lt;/</span><span class="xmlsnippet_ns">soapenv</span><span class="xmlsnippet_colon">:</span><span class="xmlsnippet_code">Body</span><span class="xmlsnippet_brackets">&gt;</span>
	<span class="xmlsnippet_brackets">&lt;/</span><span class="xmlsnippet_ns">soapenv</span><span class="xmlsnippet_colon">:</span><span class="xmlsnippet_code">Envelope</span><span class="xmlsnippet_brackets">&gt;</span>
	</pre>
		</p>
		<p>
	Our response content looks exactly as we typed it in the script. This is all fine and good, except we really haven't done anything that a hardcoded xml 
	response doesn't already do for us. Let's add some code that will actually use request data to determine what the response content will look like. 
	We will now go back into our script editor and begin harvesting data from the request.
		</p>
		<p>
	I prematurely had you enter the XmlSlurper line of code into your script even though we aren't using it yet. This was an intentional attempt 
	to put that into your mind as a first condition on every SoapUI script. So far we have started using scripting with absolutely	
		</p>
	</div>	
			<div class="page_footer">
				<div class="footer_left">SoapUI Scripting for the terrified</div>
				<div class="footer_right">Page 6 of 13</div>
			</div>
	</div>
</body>
</html>
