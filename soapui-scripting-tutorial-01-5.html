<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Page 5</title>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="stylesheet" type="text/css" href="global.css"/>
	<script type="text/javascript" src="control_center.js"></script>
    <script type="text/javascript">
    <!--
    var pageType="middle";
    // -->
    </script>
<style type="text/css">

</style>
</head>
<body>
	<div class="page_container" id="suisftt_05">
		<div class="std_paragraph_container">
			<p>SoapUI response scripting is done on the OPERATION level. Highlight the response operation you want to create a 
			script for and alt+click to open a menu of choices. Select "Show MockOperation Editor" to open the panel you will use to create scripts.
			</p>
		</div>
		<div class="mo_editor"></div>
		<div class="std_paragraph_container">
			<p>
				In the setGroomingKits Operation Editor find the Label "Dispatch" and select "SCRIPT" in the dropdown. 
			</p>
		</div>
		<div class="mo_script_select"></div>
		<div class="std_paragraph_container">
			<p>
				After selecting "SCRIPT" menu item you will be presented with a script window to work in. The very first thing we must do is 
				capture the response object. XmlSlurper is included in the SoapUI implementation and so we will start the file out by setting 
				a request object to work with:
			</p>
			<p>
	<pre class="xmlsnippet_pre_default">
	<span class="xmlsnippet_port_direct">def</span> req <span class="xmlsnippet_operator">=</span> <span class="xmlsnippet_port_direct">new</span> XmlSlurper<span class="xmlsnippet_operator">(</span><span class="xmlsnippet_operator">)</span><span class="xmlsnippet_operator">.</span>parseText<span class="xmlsnippet_operator">(</span>mockRequest<span class="xmlsnippet_operator">.</span>requestContent<span class="xmlsnippet_operator">)</span>
	</pre>
			</p>
			<p>
				that's it! we now have all of the content of our request available. Retrieving the content is as easy as xpath 
				to the values. We will write some code to access those fields shortly, but first let's get the script to a point where 
				it is sending values in our response fields. The response object is accessed using context which is a built-in object for us. 
				SoapUI has already wired everything up so all we need to do is start plugging in values. Since we have introduced tags to the 
				response template then we will eventually have direct access to them and don't have to bother with response xpath to set values. 
				Below is some more Groovy code to set our response fields:
			</p>
		</div>
			<div class="page_footer">
				<div class="footer_left">SoapUI Scripting for the terrified</div>
				<div class="footer_right">Page 5 of 13</div>
			</div>
	</div>
</body>
</html>
